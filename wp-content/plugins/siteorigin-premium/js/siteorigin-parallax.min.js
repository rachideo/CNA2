!function(s){s.fn.siteOriginParallax=function(g){var d=s(this);if("refreshParallax"===g)return d.trigger("refreshParallax");null===(g=s.extend({backgroundUrl:null,backgroundSize:null,backgroundAspectRatio:null,backgroundSizing:"scaled",limitMotion:"auto"},g)).backgroundAspectRatio&&(g.backgroundAspectRatio=g.backgroundSize[0]/g.backgroundSize[1]);var i=function(){try{var i,o=[d.outerWidth(),d.outerHeight()],n=d[0].getBoundingClientRect();if(void 0===d.data("siteorigin-parallax-init")&&d.css({"background-image":"url("+g.backgroundUrl+")"}),"auto"===g.limitMotion){var a=s(window).outerHeight();i=a<720?.55:1300<a?.45:-17e-5*(a-720)+.55}else i=g.limitMotion;var r=((n.bottom+(n.top-s(window).outerHeight()))/(s(window).outerHeight()+n.height)-1)/-2,t=0,e=1;if("scaled"===g.backgroundSizing){d.css("background-size","cover");var u=o[0]/g.backgroundSize[0];if(o[1]/g.backgroundSize[1]<u){if(n.top>-o[1]&&n.bottom-s(window).outerHeight()<o[1]){var c=g.backgroundSize[1]*u;i&&c>s(window).outerHeight()*i&&(r=r*(e=s(window).outerHeight()*i/c)+(1-e)/2),t=-(c-o[1])*r}d.css("background-position","0px "+t+"px")}else d.css("background-position","50% 50%")}else"original"===g.backgroundSizing&&(i&&g.backgroundSize[1]>s(window).outerHeight()*i&&(r=r*(e=s(window).outerHeight()*i/g.backgroundSize[1])+(1-e)/2),t=-(g.backgroundSize[1]-o[1])*r,d.css("background-size","auto"),d.css("background-position","50% "+t+"px"))}catch(i){d.css({"background-size":"scaled"===g.backgroundSizing?"cover":"auto","background-position":"50% 50%"})}};i(),s(window).on("scroll",i),s(window).on("resize",i),s(window).on("panelsStretchRows",i),d.on("refreshParallax",i)}}(jQuery),jQuery(function(i){i("[data-siteorigin-parallax]").each(function(){i(this).siteOriginParallax(i(this).data("siteorigin-parallax"))})});