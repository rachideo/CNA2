window.SiteOriginPremium=window.SiteOriginPremium||{},SiteOriginPremium.setupTooltip=function(f){f(".so-widget-sow-image, .so-widget-sow-image-grid, .so-widget-sow-simple-masonry").each(function(o,t){var e=f(t);if(e.data("tooltip-enabled")){var i=e.data("tooltip-theme"),s=function(u){var o=u.attr("title");if(o){f(this.image).css("pointerEvents","none");var s=f('<div class="so-premium-tooltip">'+o+'<div class="callout"></div></div>');s.css("visibility","hidden"),s.addClass("theme-"+i),s.css("max-width",u.outerWidth());var l=u.parent().closest(":not( a )"),n=l.is(".sow-masonry-grid-item");n?l.parent().append(s):l.append(s);var r,m={top:0,left:0},d=s.find(".callout"),p=function(){var o=n?l.position():u.position(),t={top:o.top+m.top-s.outerHeight(),left:o.left+m.left-.5*s.outerWidth()};s.css(t)},c=function(){p(),s.fadeIn(100)};"follow_cursor"===soPremiumTooltipOptions.position&&s.css("pointer-events","none"),s.hide(),s.css("visibility","visible"),l.on(soPremiumTooltipOptions.show_trigger,function(o){var t=s.get(0);if(s.is(":visible")||o.target===t||o.relatedTarget===t||o.relatedTarget===u.get(0))return!1;var e=n?l:u;d.removeClass("bottom").addClass("top"),d.css("pointer-events","none");var a=.5*d.outerHeight();switch(soPremiumTooltipOptions.position){case"follow_cursor":l.on("mousemove",function(o){var t=u.outerHeight(),e=l.outerHeight(),i=e<t?.5*(t-e):0;m.top=o.offsetY-a-i;var s=u.outerWidth(),n=l.outerWidth(),r=n<s?.5*(s-n):0;m.left=o.offsetX-r,p()});break;case"center":m.top=.5*e.outerHeight()-a,m.left=.5*e.outerWidth();break;case"top":m.top=0-a,m.left=.5*e.outerWidth();break;case"bottom":d.removeClass("top").addClass("bottom"),m.top=e.outerHeight()+s.outerHeight()+a,m.left=.5*e.outerWidth()}if("mouseover"===soPremiumTooltipOptions.show_trigger&&soPremiumTooltipOptions.show_delay&&0<soPremiumTooltipOptions.show_delay?(r&&clearTimeout(r),r=setTimeout(function(){r=null,c()},soPremiumTooltipOptions.show_delay)):c(),"click"===soPremiumTooltipOptions.hide_trigger){var i=function(){s.fadeOut(100),f(window).off("click",i)};setTimeout(function(){f(window).on("click",i)},100)}}),"mouseout"===soPremiumTooltipOptions.hide_trigger&&(l.on("mouseout",function(o){r&&clearTimeout(r),o.relatedTarget===s.get(0)||f.contains(l.get(0),o.relatedTarget)||(s.fadeOut(100),l.off("mousemove",p))}),n&&s.on("mouseout",function(o){o.relatedTarget!==u.get(0)&&(s.fadeOut(100),l.off("mousemove",p))}))}};e.find("img").each(function(o,t){function e(o){var t=f(o);o.complete?s(t):t.on("load",function(){s(t)}).on("error",function(){console.log("Could not setup tooltip. Image loading failed.")})}t.classList.contains("jetpack-lazy-image")?f(t).on("jetpack-lazy-loaded-image",function(o){e(o.target)}):e(t)})}})},jQuery(function(o){SiteOriginPremium.setupTooltip(o),window.sowb&&o(window.sowb).on("setup_widgets",function(){SiteOriginPremium.setupTooltip(o)})});