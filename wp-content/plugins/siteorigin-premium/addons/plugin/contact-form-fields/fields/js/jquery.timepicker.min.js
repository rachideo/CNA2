!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(w){var y=86400,m={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},x={init:function(a){return this.each(function(){var e=w(this),i=[];for(var t in w.fn.timepicker.defaults)e.data(t)&&(i[t]=e.data(t));var r=w.extend({},w.fn.timepicker.defaults,i,a);if(r.lang&&(m=w.extend(m,r.lang)),r=s(r),e.data("timepicker-settings",r),e.addClass("ui-timepicker-input"),r.useSelect)l(e);else{if(e.prop("autocomplete","off"),r.showOn)for(var n in r.showOn)e.on(r.showOn[n]+".timepicker",x.show);e.on("change.timepicker",o),e.on("keydown.timepicker",h),e.on("keyup.timepicker",g),r.disableTextInput&&e.on("keydown.timepicker",f),o.call(e.get(0))}})},show:function(e){var i=w(this),t=i.data("timepicker-settings");if(e&&e.preventDefault(),t.useSelect)i.data("timepicker-list").focus();else{H(i)&&i.blur();var r=i.data("timepicker-list");if(!i.prop("readonly")&&(r&&0!==r.length&&"function"!=typeof t.durationTime||(l(i),r=i.data("timepicker-list")),!c(r))){i.data("ui-timepicker-value",i.val()),O(i,r),x.hide(),r.show();var n={};t.orientation.match(/r/)?n.left=i.offset().left+i.outerWidth()-r.outerWidth()+parseInt(r.css("marginLeft").replace("px",""),10):n.left=i.offset().left+parseInt(r.css("marginLeft").replace("px",""),10),"t"==(t.orientation.match(/t/)?"t":t.orientation.match(/b/)?"b":i.offset().top+i.outerHeight(!0)+r.outerHeight()>w(window).height()+w(window).scrollTop()?"t":"b")?(r.addClass("ui-timepicker-positioned-top"),n.top=i.offset().top-r.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)):(r.removeClass("ui-timepicker-positioned-top"),n.top=i.offset().top+i.outerHeight()+parseInt(r.css("marginTop").replace("px",""),10)),r.offset(n);var a=r.find(".ui-timepicker-selected");if(!a.length){var s=I(d(i));null!==s?a=p(i,r,s):t.scrollDefault&&(a=p(i,r,t.scrollDefault()))}if(a&&a.length){var o=r.scrollTop()+a.position().top-a.outerHeight();r.scrollTop(o)}else r.scrollTop(0);return t.stopScrollPropagation&&w(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var i=w(this).scrollTop();w(this).scrollTop(i+e.originalEvent.deltaY)}),w(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",u),w(window).on("resize.ui-timepicker",u),t.closeOnWindowScroll&&w(document).on("scroll.ui-timepicker",u),i.trigger("showTimepicker"),this}}},hide:function(e){var i=w(this),t=i.data("timepicker-settings");return t&&t.useSelect&&i.blur(),w(".ui-timepicker-wrapper").each(function(){var e=w(this);if(c(e)){var i=e.data("timepicker-input"),t=i.data("timepicker-settings");t&&t.selectOnBlur&&S(i),e.hide(),i.trigger("hideTimepicker")}}),this},option:function(r,n){return"string"==typeof r&&void 0===n?w(this).data("timepicker-settings")[r]:this.each(function(){var e=w(this),i=e.data("timepicker-settings"),t=e.data("timepicker-list");"object"==typeof r?i=w.extend(i,r):"string"==typeof r&&(i[r]=n),i=s(i),e.data("timepicker-settings",i),t&&(t.remove(),e.data("timepicker-list",!1)),i.useSelect&&l(e)})},getSecondsFromMidnight:function(){return I(d(this))},getTime:function(e){var i=d(this);if(!i)return null;var t=I(i);if(null===t)return null;e||(e=new Date);var r=new Date(e);return r.setHours(t/3600),r.setMinutes(t%3600/60),r.setSeconds(t%60),r.setMilliseconds(0),r},isVisible:function(){var e=this.data("timepicker-list");return!(!e||!c(e))},setTime:function(e){var i=this,t=i.data("timepicker-settings");if(t.forceRoundTime)var r=D(I(e),t);else r=F(I(e),t);return e&&null===r&&t.noneOption&&(r=e),R(i,r),i.data("timepicker-list")&&O(i,i.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var i=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),i.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};function c(e){var i=e[0];return 0<i.offsetWidth&&0<i.offsetHeight}function s(e){if(e.minTime&&(e.minTime=I(e.minTime)),e.maxTime&&(e.maxTime=I(e.maxTime)),e.durationTime&&"function"!=typeof e.durationTime&&(e.durationTime=I(e.durationTime)),"now"==e.scrollDefault)e.scrollDefault=function(){return e.roundingFunction(I(new Date),e)};else if(e.scrollDefault&&"function"!=typeof e.scrollDefault){var i=e.scrollDefault;e.scrollDefault=function(){return e.roundingFunction(I(i),e)}}else e.minTime&&(e.scrollDefault=function(){return e.roundingFunction(e.minTime,e)});if("string"===w.type(e.timeFormat)&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),!1===e.showOnFocus&&-1!=e.showOn.indexOf("focus")&&e.showOn.splice(e.showOn.indexOf("focus"),1),0<e.disableTimeRanges.length){for(var t in e.disableTimeRanges)e.disableTimeRanges[t]=[I(e.disableTimeRanges[t][0]),I(e.disableTimeRanges[t][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(e,i){return e[0]-i[0]});for(t=e.disableTimeRanges.length-1;0<t;t--)e.disableTimeRanges[t][0]<=e.disableTimeRanges[t-1][1]&&(e.disableTimeRanges[t-1]=[Math.min(e.disableTimeRanges[t][0],e.disableTimeRanges[t-1][0]),Math.max(e.disableTimeRanges[t][1],e.disableTimeRanges[t-1][1])],e.disableTimeRanges.splice(t,1))}return e}function l(i){var e=i.data("timepicker-settings"),t=i.data("timepicker-list");if(t&&t.length&&(t.remove(),i.data("timepicker-list",!1)),e.useSelect)var r=t=w("<select />",{class:"ui-timepicker-select"});else t=w("<ul />",{class:"ui-timepicker-list"}),(r=w("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(t);if(e.noneOption)if(!0===e.noneOption&&(e.noneOption=e.useSelect?"Time...":"None"),w.isArray(e.noneOption)){for(var n in e.noneOption)if(parseInt(n,10)==n){var a=C(e.noneOption[n],e.useSelect);t.append(a)}}else{a=C(e.noneOption,e.useSelect);t.append(a)}if(e.className&&r.addClass(e.className),(null!==e.minTime||null!==e.durationTime)&&e.showDuration){"function"==typeof e.step||e.step;r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+e.step)}var s=e.minTime;"function"==typeof e.durationTime?s=I(e.durationTime()):null!==e.durationTime&&(s=e.durationTime);var o=null!==e.minTime?e.minTime:0,c=null!==e.maxTime?e.maxTime:o+y-1;c<o&&(c+=y),c===y-1&&"string"===w.type(e.timeFormat)&&e.show2400&&(c=y);var l=e.disableTimeRanges,u=0,p=l.length,m=e.step;"function"!=typeof m&&(m=function(){return e.step});n=o;for(var d=0;n<=c;n+=60*m(++d)){var f,h=n,g=F(h,e);if(e.useSelect)(f=w("<option />",{value:g})).text(g);else(f=w("<li />")).addClass(h%86400<43200?"ui-timepicker-am":"ui-timepicker-pm"),f.data("time",h<=86400?h:h%86400),f.text(g);if((null!==e.minTime||null!==e.durationTime)&&e.showDuration){var k=M(n-s,e.step);if(e.useSelect)f.text(f.text()+" ("+k+")");else{var v=w("<span />",{class:"ui-timepicker-duration"});v.text(" ("+k+")"),f.append(v)}}var T=!1;u<p&&(h>=l[u][1]&&(u+=1),l[u]&&h>=l[u][0]&&h<l[u][1]&&(T=e.hideDisabledTimes,e.useSelect?f.prop("disabled",!0):f.addClass("ui-timepicker-disabled"))),T||t.append(f)}if(r.data("timepicker-input",i),i.data("timepicker-list",r),e.useSelect)i.val()&&t.val(D(I(i.val()),e)),t.on("focus",function(){w(this).data("timepicker-input").trigger("showTimepicker")}),t.on("blur",function(){w(this).data("timepicker-input").trigger("hideTimepicker")}),t.on("change",function(){R(i,w(this).val(),"select")}),R(i,t.val(),"initial"),i.hide().after(t);else{var b=e.appendTo;"string"==typeof b?b=w(b):"function"==typeof b&&(b=b(i)),b.append(r),O(i,t),t.on("mousedown touchstart","li",function(e){i.off("focus.timepicker"),i.on("focus.timepicker-ie-hack",function(){i.off("focus.timepicker-ie-hack"),i.on("focus.timepicker",x.show)}),H(i)||i[0].focus(),t.find("li").removeClass("ui-timepicker-selected"),w(this).addClass("ui-timepicker-selected"),S(i)&&(i.trigger("hideTimepicker"),t.on("mouseup.timepicker touchend.timepicker","li",function(e){t.off("mouseup.timepicker touchend.timepicker"),r.hide()}))})}}function C(e,i){var t,r,n;return"object"==typeof e?(t=e.label,r=e.className,n=e.value):"string"==typeof e?t=e:w.error("Invalid noneOption value"),i?w("<option />",{value:n,class:r,text:t}):w("<li />",{class:r,text:t}).data("time",String(n))}function D(e,i){if(null!==(e=i.roundingFunction(e,i)))return F(e,i)}function u(e){var i=w(e.target);0===i.closest(".ui-timepicker-input").length&&0===i.closest(".ui-timepicker-wrapper").length&&(x.hide(),w(document).unbind(".ui-timepicker"),w(window).unbind(".ui-timepicker"))}function H(e){var i=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&i.disableTouchKeyboard}function p(e,i,r){if(!r&&0!==r)return!1;var t=e.data("timepicker-settings"),n=!1;r=t.roundingFunction(r,t);return i.find("li").each(function(e,i){var t=w(i);if("number"==typeof t.data("time"))return t.data("time")==r?(n=t,!1):void 0}),n}function O(e,i){i.find("li").removeClass("ui-timepicker-selected");var t=I(d(e),e.data("timepicker-settings"));if(null!==t){var r=p(e,i,t);if(r){var n=r.offset().top-i.offset().top;(n+r.outerHeight()>i.outerHeight()||n<0)&&i.scrollTop(i.scrollTop()+r.position().top-r.outerHeight()),r.addClass("ui-timepicker-selected")}}}function o(e,i){if(""!==this.value&&"timepicker"!=i){var t=w(this);if(!t.is(":focus")||e&&"change"==e.type){var r=t.data("timepicker-settings"),n=I(this.value,r);if(null!==n){var a=!1;null!==r.minTime&&n<r.minTime&&null!==r.maxTime&&n>r.maxTime&&(a=!0),w.each(r.disableTimeRanges,function(){if(n>=this[0]&&n<this[1])return!(a=!0)}),r.forceRoundTime&&(n=r.roundingFunction(n,r));var s=F(n,r);a?R(t,s,"error")&&t.trigger("timeRangeError"):R(t,s)}else t.trigger("timeFormatError")}}}function d(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function R(e,i,t){if(e.is("input")){e.val(i);var r=e.data("timepicker-settings");r.useSelect&&"select"!=t&&"initial"!=t&&e.data("timepicker-list").val(D(I(i),r))}return e.data("ui-timepicker-value")!=i?(e.data("ui-timepicker-value",i),"select"==t?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):"error"!=t&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function f(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function h(e){var i=w(this),t=i.data("timepicker-list");if(!t||!c(t)){if(40!=e.keyCode)return!0;x.show.call(i.get(0)),t=i.data("timepicker-list"),H(i)||i.focus()}switch(e.keyCode){case 13:return S(i)&&x.hide.apply(this),e.preventDefault(),!1;case 38:var r=t.find(".ui-timepicker-selected");return r.length?r.is(":first-child")||(r.removeClass("ui-timepicker-selected"),r.prev().addClass("ui-timepicker-selected"),r.prev().position().top<r.outerHeight()&&t.scrollTop(t.scrollTop()-r.outerHeight())):(t.find("li").each(function(e,i){if(0<w(i).position().top)return r=w(i),!1}),r.addClass("ui-timepicker-selected")),!1;case 40:return 0===(r=t.find(".ui-timepicker-selected")).length?(t.find("li").each(function(e,i){if(0<w(i).position().top)return r=w(i),!1}),r.addClass("ui-timepicker-selected")):r.is(":last-child")||(r.removeClass("ui-timepicker-selected"),r.next().addClass("ui-timepicker-selected"),r.next().position().top+2*r.outerHeight()>t.outerHeight()&&t.scrollTop(t.scrollTop()+r.outerHeight())),!1;case 27:t.find("li").removeClass("ui-timepicker-selected"),x.hide();break;case 9:x.hide();break;default:return!0}}function g(e){var i=w(this),t=i.data("timepicker-list"),r=i.data("timepicker-settings");if(!t||!c(t)||r.disableTextInput)return!0;switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:r.typeaheadHighlight?O(i,t):t.hide()}}function S(e){var i=e.data("timepicker-settings"),t=null,r=e.data("timepicker-list").find(".ui-timepicker-selected");return!r.hasClass("ui-timepicker-disabled")&&(r.length&&(t=r.data("time")),null!==t&&("string"!=typeof t&&(t=F(t,i)),R(e,t,"select")),!0)}function M(e,i){e=Math.abs(e);var t,r,n=Math.round(e/60),a=[];return n<60?a=[n,m.mins]:(t=Math.floor(n/60),r=n%60,30==i&&30==r&&(t+=m.decimal+5),a.push(t),a.push(1==t?m.hr:m.hrs),30!=i&&r&&(a.push(r),a.push(m.mins))),a.join(" ")}function F(e,i){if("number"!=typeof e)return null;var t=parseInt(e%60),r=parseInt(e/60%60),n=parseInt(e/3600%24),a=new Date(1970,0,2,n,r,t,0);if(isNaN(a.getTime()))return null;if("function"===w.type(i.timeFormat))return i.timeFormat(a);for(var s,o,c="",l=0;l<i.timeFormat.length;l++)switch(o=i.timeFormat.charAt(l)){case"a":c+=11<a.getHours()?m.pm:m.am;break;case"A":c+=11<a.getHours()?m.PM:m.AM;break;case"g":c+=0===(s=a.getHours()%12)?"12":s;break;case"G":s=a.getHours(),e===y&&(s=i.show2400?24:0),c+=s;break;case"h":0!==(s=a.getHours()%12)&&s<10&&(s="0"+s),c+=0===s?"12":s;break;case"H":s=a.getHours(),e===y&&(s=i.show2400?24:0),c+=9<s?s:"0"+s;break;case"i":c+=9<(r=a.getMinutes())?r:"0"+r;break;case"s":c+=9<(t=a.getSeconds())?t:"0"+t;break;case"\\":l++,c+=i.timeFormat.charAt(l);break;default:c+=o}return c}function I(e,i){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;"a"!=(e=e.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=e.slice(-1)||(e+="m");var t="("+m.am.replace(".","")+"|"+m.pm.replace(".","")+"|"+m.AM.replace(".","")+"|"+m.PM.replace(".","")+")?",r=new RegExp("^"+t+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+t+"$"),n=e.match(r);if(!n)return null;var a=parseInt(1*n[2],10),s=24<a?a%24:a,o=n[1]||n[5],c=s;if(s<=12&&o){var l=o==m.pm||o==m.PM;c=12==s?l?12:0:s+(l?12:0)}var u=3600*c+60*(1*n[3]||0)+(1*n[4]||0);if(s<12&&!o&&i&&i._twelveHourTime&&i.scrollDefault){var p=u-i.scrollDefault();p<0&&y/-2<=p&&(u=(u+y/2)%y)}return u}w.fn.timepicker=function(e){return this.length?x[e]?this.hasClass("ui-timepicker-input")?x[e].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof e&&e?void w.error("Method "+e+" does not exist on jQuery.timepicker"):x.init.apply(this,arguments):this},w.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],hideDisabledTimes:!1,disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,i){if(null===e)return null;if("number"!=typeof i.step)return e;var t=e%(60*i.step);return t>=30*i.step?e+=60*i.step-t:e-=t,e==y&&i.show2400?e:e%y},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1}});